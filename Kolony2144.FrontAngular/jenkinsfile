pipeline {
	agent any

  stages {
    stage('Hello') {
      steps {
        echo 'Hello World'
      }
    }
    stage('Checkout branch: "${env.BRANCH_NAME}"') {
      steps {
        git branch: '"${env.BRANCH_NAME}"', url: 'https://github.com/KubaMiszcz/Kolony2144.git'
      }
    }
    stage('install node_modules') {
      steps {
        ws('"${env.WORKSPACE}"/Kolony2144.FrontAngular'){
          // sh 'cd "${WORKSPACE}"/Kolony2144.FrontAngular/ && npm install'
          sh 'npm install'
        }
      }
    }
    stage('Build') {
      steps {
        ws('"${env.WORKSPACE}"/Kolony2144.FrontAngular'){
          sh 'ng build --prod'
        }
      }
    }
  }
}
